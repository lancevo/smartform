<!DOCTYPE html>
<html>
<head>
    <title>smartform</title>

    <style>
            /* hide all the messages in smartform */
        .smartform div {
            display:none;
        }

        /* show it when one of the event is triggerred */
        .focus .focus, .required .required, .pattern-invalid .pattern-invalid, .pattern-valid .pattern-valid {
            display:block;
        }

        /* color errors red */
        .smartform .required, .smartform .pattern-invalid {
            color: red;
        }
    </style>
    <script src="../js/jquery.min.js"></script>
    <script src="../js/smartform.js"></script>
</head>
<body>
<form>
    <h2>Example of using element callback function</h2>
    <section>
        <label for="f1"> Enter account number of Social Security Number </label>
        <input required id="f1" name="name" pattern="^(\s{0,}\d{5}|\d{3}-\d{2}-\d{4})\s{0,}$" data-smartform-fn="validateAccountOrSSN">
        <div class="smartform">
            <div class="required"> This field is required </div>
            <div class="focus">  Account Number: 12345 <br>
                            OR Social Security Number format: 123-34-5678
            </div>
            <div class="pattern-invalid">
                The value entered is invalid. Please try again: <br>
                Account Number: 12345 <br>
                OR Social Security Number format: 123-34-5678
            </div>

            <div class="pattern-valid">
                Value is accepted.
            </div>
        </div>
    </section>

    <div id="status">

    </div>


    <input type="submit" value="submit">
</form>
<script>
    function validateAccountOrSSN(event, element, form) {
      var val = element.val();

      // clean up data
      val = $.trim(val);

        if (event.type === 'focusout') {
          if (val.match(/^d{5}$/)) {
              $("#status").text('you entered an account number : ' + val);
          } else if (val.match(/^(\d{3}-\d{2}-\d{4})$/)) {
              $("#status").text('you entered a social security number : ' + val);
          }
        }


    }


    $("form").smartform();
</script>
</body>
</html>